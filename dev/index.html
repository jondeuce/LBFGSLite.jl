<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · LBFGSLite.jl</title><meta name="title" content="Home · LBFGSLite.jl"/><meta property="og:title" content="Home · LBFGSLite.jl"/><meta property="twitter:title" content="Home · LBFGSLite.jl"/><meta name="description" content="Documentation for LBFGSLite.jl."/><meta property="og:description" content="Documentation for LBFGSLite.jl."/><meta property="twitter:description" content="Documentation for LBFGSLite.jl."/><meta property="og:url" content="https://jondeuce.github.io/LBFGSLite.jl/"/><meta property="twitter:url" content="https://jondeuce.github.io/LBFGSLite.jl/"/><link rel="canonical" href="https://jondeuce.github.io/LBFGSLite.jl/"/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>LBFGSLite.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/jondeuce/LBFGSLite.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/jondeuce/LBFGSLite.jl/blob/master/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="LBFGSLite"><a class="docs-heading-anchor" href="#LBFGSLite">LBFGSLite</a><a id="LBFGSLite-1"></a><a class="docs-heading-anchor-permalink" href="#LBFGSLite" title="Permalink"></a></h1><p>Documentation for <a href="https://github.com/jondeuce/LBFGSLite.jl">LBFGSLite</a>.</p><ul><li><a href="#LBFGSLite.LBFGSParams"><code>LBFGSLite.LBFGSParams</code></a></li><li><a href="#LBFGSLite.optimize"><code>LBFGSLite.optimize</code></a></li></ul><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LBFGSLite.LBFGSParams" href="#LBFGSLite.LBFGSParams"><code>LBFGSLite.LBFGSParams</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct LBFGSParams{T &lt;: AbstractFloat}</code></pre><p>Parameter struct for LBFGS.</p><p><strong>Arguments</strong></p><ul><li><code>mem_size::Int = 8</code>: The number of corrections to approximate the inverse hessian matrix. The L-BFGS routine stores the computation results of previous m iterations to approximate the inverse hessian matrix of the current iteration. This parameter controls the size of the limited memories (corrections). The default value is 8. Values less than 3 are not recommended. Large values will result in excessive computing time.</li><li><code>g_epsilon::T = 1.0e-5</code>: Epsilon for grad convergence test. DO NOT USE IT in nonsmooth cases! Set it to 0.0 and use past-delta-based test for nonsmooth functions. This parameter determines the accuracy with which the solution is to be found. A minimization terminates when ||g(x)||<em>inf / max(1, ||x||</em>inf) &lt; g<em>epsilon, where ||.||</em>inf is the infinity norm. The default value is 1.0e-5. This should be greater than 1.0e-6 in practice because L-BFGS does not directly reduce first-order residual. It still needs the function value which can be corrupted by machine_prec when ||g|| is small.</li><li><code>past::Int = 3</code>: Distance for delta-based convergence test. This parameter determines the distance, in iterations, to compute the rate of decrease of the cost function. If the value of this parameter is zero, the library does not perform the delta-based convergence test. The default value is 3.</li><li><code>delta::T = 1.0e-6</code>: Delta for convergence test. This parameter determines the minimum rate of decrease of the cost function. The library stops iterations when the following condition is met: |f&#39; - f| / max(1, |f|) &lt; delta, where f&#39; is the cost value of past iterations ago, and f is the cost value of the current iteration. The default value is 1.0e-6.</li><li><code>max_iterations::Int = 0</code>: The maximum number of iterations. The lbfgs<em>optimize() function terminates an minimization process with ::LBFGSERR</em>MAXIMUMITERATION status code when the iteration count exceedes this parameter. Setting this parameter to zero continues an minimization process until a convergence or error. The default value is 0.</li><li><code>max_linesearch::Int = 64</code>: The maximum number of trials for the line search. This parameter controls the number of function and gradients evaluations per iteration for the line search routine. The default value is 64.</li><li><code>min_step::T = 1.0e-20</code>: The minimum step of the line search routine. The default value is 1.0e-20. This value need not be modified unless the exponents are too large for the machine being used, or unless the problem is extremely badly scaled (in which case the exponents should be increased).</li><li><code>max_step::T = 1.0e+20</code>: The maximum step of the line search. The default value is 1.0e+20. This value need not be modified unless the exponents are too large for the machine being used, or unless the problem is extremely badly scaled (in which case the exponents should be increased).</li><li><code>f_dec_coeff = 1.0e-4</code>: A parameter to control the accuracy of the line search routine. The default value is 1.0e-4. This parameter should be greater than zero and smaller than 1.0.</li><li><code>s_curv_coeff = 0.9</code>: A parameter to control the accuracy of the line search routine. The default value is 0.9. If the function and gradient evaluations are inexpensive with respect to the cost of the iteration (which is sometimes the case when solving very large problems) it may be advantageous to set this parameter to a small value. A typical small value is 0.1. This parameter should be greater than the f<em>dec</em>coeff parameter and smaller than 1.0.</li><li><code>cautious_factor = 1.0e-6</code>: A parameter to ensure the global convergence for nonconvex functions. The default value is 1.0e-6. The parameter performs the so called cautious update for L-BFGS, especially when the convergence is not sufficient. The parameter must be positive but might as well be less than 1.0e-3 in practice.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jondeuce/LBFGSLite.jl/blob/c4216b1ce5e69a90c2364366e6876e61dc2b8bbb/src/LBFGSLite.jl#L60-L140">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LBFGSLite.optimize" href="#LBFGSLite.optimize"><code>LBFGSLite.optimize</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">optimize(
    fg!::F
    x::AbstractVector{T},
    params::LBFGSParams{T} = LBFGSParams{T}(),
) = optimize!(fg!, copy(x), LBFGSWorkspace(x, params), params)

optimize!(
    fg!::F
    x::AbstractVector{T},
    work::LBFGSWorkspace{T},
    params::LBFGSParams{T} = LBFGSParams{T}(),
) -&gt; x, fx::T, ls::LBFGS_STATUS</code></pre><p>Minimize a function using L-BFGS.</p><p>Assumptions:</p><ul><li>f(x) is either C2 or C0 but piecewise C2;</li><li>f(x) is lower bounded;</li><li>f(x) has bounded level sets;</li><li>g(x) is either the gradient or subgradient;</li><li>The gradient exists at the initial guess x0.</li></ul><p><strong>Arguments</strong></p><ul><li><code>fg!(x, g)::F</code>: In-place function that computes the objective fx = fg!(x, g) and stores the gradient in g.</li><li><code>x::AbstractVector{T}</code>: Vector of decision variables. Used for the initial guess.</li><li><code>work::LBFGSWorkspace{T}</code>: Struct with pre-allocated arrays.</li><li><code>params::LBFGSParams{T} = LBFGSParams{T}()</code>: The parameters for L-BFGS optimization.</li></ul><p><strong>Returns</strong></p><ul><li><code>x::AbstractVector{T}</code>: Vector of decision variables.</li><li><code>fx::T</code>: Final value of cost function.</li><li><code>ls::LBFGS_STATUS</code>: Status code.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jondeuce/LBFGSLite.jl/blob/c4216b1ce5e69a90c2364366e6876e61dc2b8bbb/src/LBFGSLite.jl#L190-L227">source</a></section></article></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.3.0 on <span class="colophon-date" title="Sunday 17 March 2024 21:39">Sunday 17 March 2024</span>. Using Julia version 1.10.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
